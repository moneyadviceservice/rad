<p><%= t('self_service.required_fields_message') %></p>

<% if @firm.errors.any? %>
  <div class="t-validation-summary">
    <%= f.validation_summary %>
  </div>
<% end %>

<section class="form-section">
  <h2 class="form-section__heading">
    <% if f.object.trading_name? %>
      <%= t('self_service.firm_edit.trading_name_heading') %>
    <% else %>
      <%= t('self_service.firm_edit.firm_heading') %>
    <% end %>
  </h2>
  <%= render partial: 'self_service/firms/questionnaire/firm_details', locals: {f: f} %>
</section>

<section class="form-section">
  <h2 class="form-section__heading"><%= t('self_service.firm_edit.questionnaire_heading') %></h2>
  <p><%= t('self_service.firm_edit.questionnaire_description') %></p>

  <div class="l-3col-even-row">
    <div class="l-3col-even">
      <%= render partial: 'self_service/firms/questionnaire/advice_methods', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/initial_meeting', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/initial_advice', locals: {f: f} %>
    </div>

    <div class="l-3col-even">
      <%= render partial: 'self_service/firms/questionnaire/ongoing_advice', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/payment_methods', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/minimum_fee', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/investment_sizes', locals: {f: f} %>
    </div>

    <div class="l-3col-even">
      <%= render partial: 'self_service/firms/questionnaire/business_split', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/other_services', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/status', locals: {f: f} %>
      <%= render partial: 'self_service/firms/questionnaire/languages', locals: {f: f} %>
    </div>
  </div>
</section>

<div class="l-self-service-action-row">
  <%= link_to t('self_service.cancel_button'), self_service_firms_path, class: 'l-self-service-action-row__cancel' %>
  <%= f.submit t('self_service.save_button'), class: 'button button--primary t-save-button' %>
</div>
