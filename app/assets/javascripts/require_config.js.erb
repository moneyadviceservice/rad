//= depend_on_asset jquery/dist/jquery
//= depend_on_asset jquery-fastlivefilter/jquery.fastLiveFilter
//= depend_on_asset modules/FieldToggleVisibility
//= depend_on_asset modules/AdviserAjaxCall
//= depend_on_asset modules/DataTransform
//= depend_on_asset modules/RemoteAndFaceToFaceOptions
//= depend_on_asset modules/MultiTableFilter
//= depend_on_asset modules/ConfirmableForm

<%
  def requirejs_path(asset)
    javascript_path(asset).sub(/.js\z/, '')
  end

  requirejs_config = {
     # baseUrl: (Rails.application.config.action_controller.asset_host || '') + \ Rails.application.config.assets.prefix,

    paths: {
      jquery: requirejs_path('jquery/dist/jquery'),
      jqueryFastLiveFilter: requirejs_path('jquery-fastlivefilter/jquery.fastLiveFilter.js'),
      FieldToggleVisibility: requirejs_path('modules/FieldToggleVisibility'),
      AdviserAjaxCall: requirejs_path('modules/AdviserAjaxCall'),
      DataTransform: requirejs_path('modules/DataTransform'),
      RemoteAndFaceToFaceOptions: requirejs_path('modules/RemoteAndFaceToFaceOptions'),
      MultiTableFilter: requirejs_path('modules/MultiTableFilter'),
      ConfirmableForm: requirejs_path('modules/ConfirmableForm'),
      componentLoader: requirejs_path('dough/assets/js/lib/componentLoader'),
      utilities: requirejs_path('dough/assets/js/lib/utilities'),
      DoughBaseComponent: requirejs_path('dough/assets/js/components/DoughBaseComponent'),
      FieldHelpText: requirejs_path('dough/assets/js/components/FieldHelpText'),
      eventsWithPromises: requirejs_path('eventsWithPromises/src/eventsWithPromises'),
      rsvp: requirejs_path('rsvp/rsvp')
    }
  }
%>

// If requirejs is present convert the requirejs_config hash to a JSON object
if(window.requirejs) {
  requirejs.config(<%= JSON.pretty_generate(requirejs_config) %>);
}
